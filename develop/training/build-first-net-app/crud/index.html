<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html><head><title>Performing CRUD operations | Couchbase - Mobile Developers</title><link rel="stylesheet" type="text/css" href="../../../../styles/style.css"></link><style class="language-stripe" id="language-stripe-objective-c" type="text/css">*.stripe-display.objective-c{display:inline;}*.stripe-active.objective-c{background:rgba(0, 0, 0, 0.05);}*.stripe-display.swift{display:none;}*.stripe-active.swift{background:transparent;}*.stripe-display.java{display:none;}*.stripe-active.java{background:transparent;}*.stripe-display.android{display:none;}*.stripe-active.android{background:transparent;}*.stripe-display.c{display:none;}*.stripe-active.c{background:transparent;}</style><style class="language-stripe" id="language-stripe-swift" type="text/css">*.stripe-display.objective-c{display:none;}*.stripe-active.objective-c{background:transparent;}*.stripe-display.swift{display:inline;}*.stripe-active.swift{background:rgba(0, 0, 0, 0.05);}*.stripe-display.java{display:none;}*.stripe-active.java{background:transparent;}*.stripe-display.android{display:none;}*.stripe-active.android{background:transparent;}*.stripe-display.c{display:none;}*.stripe-active.c{background:transparent;}</style><style class="language-stripe" id="language-stripe-java" type="text/css">*.stripe-display.objective-c{display:none;}*.stripe-active.objective-c{background:transparent;}*.stripe-display.swift{display:none;}*.stripe-active.swift{background:transparent;}*.stripe-display.java{display:inline;}*.stripe-active.java{background:rgba(0, 0, 0, 0.05);}*.stripe-display.android{display:none;}*.stripe-active.android{background:transparent;}*.stripe-display.c{display:none;}*.stripe-active.c{background:transparent;}</style><style class="language-stripe" id="language-stripe-android" type="text/css">*.stripe-display.objective-c{display:none;}*.stripe-active.objective-c{background:transparent;}*.stripe-display.swift{display:none;}*.stripe-active.swift{background:transparent;}*.stripe-display.java{display:none;}*.stripe-active.java{background:transparent;}*.stripe-display.android{display:inline;}*.stripe-active.android{background:rgba(0, 0, 0, 0.05);}*.stripe-display.c{display:none;}*.stripe-active.c{background:transparent;}</style><style class="language-stripe" id="language-stripe-c" type="text/css">*.stripe-display.objective-c{display:none;}*.stripe-active.objective-c{background:transparent;}*.stripe-display.swift{display:none;}*.stripe-active.swift{background:transparent;}*.stripe-display.java{display:none;}*.stripe-active.java{background:transparent;}*.stripe-display.android{display:none;}*.stripe-active.android{background:transparent;}*.stripe-display.c{display:inline;}*.stripe-active.c{background:rgba(0, 0, 0, 0.05);}</style><script type="text/javascript">var languages = ["objective-c","swift","java","android","c"];
                    
	                var cookies = document.cookie.split(';');
				    for(var i=0; i<cookies.length; i++) {
				        var cookie = cookies[i].trim();
				        
				        if (cookie.indexOf("language=")==0) {
				            var selectedLanguage = cookie.substring(9, cookie.length);
				            if (selectedLanguage.length > 0) {
				                document.write("<style class='language-stripe' type='text/css'>");
				                for (var j=0; j<languages.length; j++) {
				                    var language = languages[j];
				                    document.write("*.stripe-display." + language + "{display:" + (language == selectedLanguage ? "inline" : "none") + ";}");
                                    document.write("*.stripe-active." + language + "{background:" + (language == selectedLanguage ? "rgba(0, 0, 0, 0.05)" : "transparent") + ";}");
				                }
				                document.write("</style>");
				            }
				            break;
				        }
				    }
				    
			    </script><script type="text/javascript">
                var rootPath = "../../../../";</script><script src="../../../../scripts/core.js"></script><script src="../../../../scripts/search-core.js"></script><script src="../../../../scripts/search.js"></script><script src="../../../../scripts/search-index.js"></script><script type="text/javascript">
	        
	        var _gaq = _gaq || [];
	        _gaq.push(['_setAccount', 'UA-7763794-1']);
	        _gaq.push(['_trackPageview']);

	        (function() {
	            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	        })();
	        
	    </script></head><body onload="init()"><div class="page-header"><table class="navigator-bar"><tr><td><a class="dark logo" href="../../../../index.html"><div>Couchbase</div><div>Mobile Developers</div></a></td><td><a class="dark" href="../../../../get-started/get-started-mobile/index.html">Get Started</a></td><td><a class="dark active" href="../../../../develop/training/build-first-ios-app/index.html">Develop</a></td><td><a class="dark" href="https://forums.couchbase.com/mobile">Forums</a></td><td width="100%"></td><td><input class="search" type="text" onkeyup="search_onkeyup(this)" onchange="search_onchange(this)" onfocus="search_onfocus(this)" onblur="search_onblur(this)"></input></td></tr></table><div class="search-results-wrapper"><div class="search-results-floater"><div id="search-results" class="hidden"></div></div></div><table class="navigator-bar secondary"><tr><td><a class="dark active" href="../../../../develop/training/build-first-ios-app/index.html">Training</a></td><td><a class="dark" href="../../../../develop/guides/modeling/index.html">Guides</a></td><td><a class="dark" href="../../../../develop/references/couchbase-lite/index.html">API References</a></td><td><a class="dark" href="../../../../develop/samples/samples/index.html">Samples</a></td><td><a class="dark" href="http://www.couchbase.com/nosql-databases/downloads#Couchbase_Mobile">Downloads</a></td><td width="100%"></td></tr></table></div><div class="header-spacer"></div><div class="page-wrapper"><nav><ul class="nav-list"><li class="nav-section"><div onclick="toggleExpanded(this.parentNode)" class="header"><a href="../../../../develop/training/build-first-ios-app/index.html">Building your first Couchbase Lite iOS app</a></div><ul><li class="nav-item"><a href="../../../../develop/training/build-first-ios-app/create-new-project/index.html">Creating a new project</a></li><li class="nav-item"><a href="../../../../develop/training/build-first-ios-app/starter-code/index.html">Adding starter code</a></li><li class="nav-item"><a href="../../../../develop/training/build-first-ios-app/create-manager-db/index.html">Creating the manager and a database</a></li><li class="nav-item"><a href="../../../../develop/training/build-first-ios-app/do-crud/index.html">Performing CRUD operations</a></li></ul></li><li class="nav-section"><div onclick="toggleExpanded(this.parentNode)" class="header"><a href="../../../../develop/training/build-first-android-app/index.html">Building your first Couchbase Lite Android app</a></div><ul><li class="nav-item"><a href="../../../../develop/training/build-first-android-app/get-started-studio/index.html">Create a new project with Android Studio</a></li><li class="nav-item"><a href="../../../../develop/training/build-first-android-app/get-started-eclipse/index.html">Create a new project with Eclipse</a></li><li class="nav-item"><a href="../../../../develop/training/build-first-android-app/starter-code-android/index.html">Adding starter code</a></li><li class="nav-item"><a href="../../../../develop/training/build-first-android-app/create-manager-db/index.html">Creating the manager and a database</a></li><li class="nav-item"><a href="../../../../develop/training/build-first-android-app/do-crud/index.html">Performing CRUD operations</a></li></ul></li><li class="nav-section expanded"><div onclick="toggleExpanded(this.parentNode)" class="header"><a href="../../../../develop/training/build-first-net-app/index.html">Building your first Couchbase Lite .NET app</a></div><ul><li class="nav-item"><a href="../../../../develop/training/build-first-net-app/create-new-project/index.html">Creating a new project</a></li><li class="nav-item"><a href="../../../../develop/training/build-first-net-app/create-database/index.html">Creating the manager and a database</a></li><li class="nav-item active"><a href="../../../../develop/training/build-first-net-app/crud/index.html">Performing CRUD operations</a></li></ul></li></ul></nav><article class="content-wrapper"><div class="toc"><div class="lesson-nav"><a class="first" href="../../../../develop/training/build-first-net-app/create-database/index.html">〈 Previous</a><a class="disabled">Next 〉</a></div><h2>This lesson teaches you to</h2><ol><li><a href="#create">Create a document</a></li><li><a href="#retrieve">Retrieve a document</a></li><li><a href="#update">Update a document</a></li><li><a href="#delete">Delete a document</a></li></ol></div><h1>Performing CRUD operations</h1><p>CRUD operations represent the basic interactions with a Couchbase Lite database. This section demonstrates how to create, retrieve, update, and delete documents. The tutorial code creates just one document and then in turn retrieves it, updates it, and finally deletes it.</p><h2 id="create">Create a document</h2><hr></hr>
						<ol><li> Add the following code to the <code>FinishedLaunching</code> or <code>OnCreate</code> method.
								
								<pre><code>// Create a document
var properties = new Dictionary &lt;string, object&gt;()
{
  {"message", "Hello Couchbase Lite"},
  {"created_at", DateTime.UtcNow.ToString("o")},
};
                                   
var document = database.CreateDocument();
                                   
var revision = document.PutProperties(properties);
                                   
var docId = document.Id;
Console.WriteLine("Document created with ID = {0}", docId);
</code></pre>
								<p>You will also need to add <code>using System.Collections.Generic</code> statement in order to use the Dictionary class.</p>			
							</li><li>Run the application. </li><li>View the Application Output. The Application Output includes a message similar to the following one that indicates the document was created.
								<pre><code>2014-09-30 20:29:52.355 HelloCBL[12616:326285] Document created with ID: 43361e17-156f-4298-8822-19f5c2fbd86b
</code></pre></li></ol>
					<h2 id="retrieve">Retrieve a document</h2><hr></hr>
						<ol><li> Add the following code to the <code>FinishedLaunching</code> or <code>OnCreate</code> method.
								
								<pre><code>var retrievedDocument = database.GetDocument(docId);
                                   
Console.WriteLine("Retrieved document: ");
foreach (var kvp in retrievedDocument.Properties)
{
  Console.WriteLine("{0} : {1}", kvp.Key, kvp.Value);
}
</code></pre>   
								
							</li><li>Run the application. </li><li>View the Application Output. The Application Output includes messages similar to the following one below.
								<pre><code>2014-09-30 20:38:10.102 HelloCBL[12763:333350] Retrieved document: 
2014-09-30 20:38:10.119 HelloCBL[12763:333350] message : Hello Couchbase Lite
2014-09-30 20:38:10.119 HelloCBL[12763:333350] created_at : 9/30/2014 1:38:10 PM
2014-09-30 20:38:10.119 HelloCBL[12763:333350] _id : 0c4b729b-02f2-4a7c-a538-1a39ff7e36c5
2014-09-30 20:38:10.119 HelloCBL[12763:333350] _rev : 1-8288BD9742C885DF11734DCFD4F14998
</code></pre>
							</li></ol>
					<h2 id="update">Update a document</h2><hr></hr>
						<ol><li> Add the following code to the <code>FinishedLaunching</code> or <code>OnCreate</code> method.
								
								<pre><code>// Update a document
var updatedProperties = new Dictionary&lt;string, object&gt;(retrievedDocument.Properties);
updatedProperties["message"] = "We're having a heat wave!";
updatedProperties["temperature"] = 95.0;
                                   
var updatedRevision = retrievedDocument.PutProperties(updatedProperties);
Debug.Assert(updatedRevision != null);
                                   
Console.WriteLine("Updated document: ");
foreach (var kvp in updatedRevision.Document.Properties)
{
  Console.WriteLine("{0} : {1}", kvp.Key, kvp.Value);
}
</code></pre>
							</li><li>Run the application.</li><li>View the Application Output. It includes messages similar to the following one below:
								<pre><code>2014-09-30 20:52:34.414 HelloCBL[12989:344732] Updated document: 
2014-09-30 20:52:34.414 HelloCBL[12989:344732] message : We're having a heat wave!
2014-09-30 20:52:34.414 HelloCBL[12989:344732] created_at : 9/30/2014 1:52:34 PM
2014-09-30 20:52:34.414 HelloCBL[12989:344732] _id : a780c77b-ccfa-495e-8100-aed3cae64ec2
2014-09-30 20:52:34.414 HelloCBL[12989:344732] _rev : 2-A2C30E1FDAE634A9C345ECEE665CE0B4
2014-09-30 20:52:34.415 HelloCBL[12989:344732] temperature : 95  
</code></pre>
							</li></ol>
					<h2 id="delete">Delete a document</h2><hr></hr>
						<ol><li> Add the following code to the <code>FinishedLaunching</code> or <code>OnCreate</code> method.
								
								<pre><code>// Delete a document
retrievedDocument.Delete();
Console.WriteLine("Deleted document, deletion status: {0}", retrievedDocument.Deleted);
</code></pre>
								
							</li><li>Run the application. </li><li>View the Application Output. Itincludes messages similar to the following one below.
								<pre><code>2014-09-30 20:59:24.479 HelloCBL[13091:350437] Deleted document, deletion status: True
</code></pre>
							</li></ol>
					</article><div class="page-footer"><span>Copyright © 2014 Couchbase Inc.  All rights reserved.</span><a href="http://www.couchbase.com/terms-of-service">Terms of Use</a><a href="http://www.couchbase.com/privacy">Privacy Policy</a></div></div></body></html>